# --- Shared resources ---

[kalshi]
api_base = "https://api.elections.kalshi.com"
ws_url = "wss://api.elections.kalshi.com/trade-api/ws/v2"

[odds_sources.the-odds-api]
type = "the-odds-api"
base_url = "https://api.the-odds-api.com"
bookmakers = "draftkings,fanduel,betmgm,caesars"
live_poll_s = 20
pre_game_poll_s = 120
quota_warning_threshold = 100

# --- Global defaults ---

[strategy]
taker_edge_threshold = 5
maker_edge_threshold = 2
min_edge_after_fees = 1

[risk]
kelly_fraction = 0.25
max_contracts_per_market = 10
max_total_exposure_cents = 50000
max_concurrent_markets = 5

[momentum]
taker_momentum_threshold = 75
maker_momentum_threshold = 40
cancel_threshold = 30
velocity_weight = 0.6
book_pressure_weight = 0.4
velocity_window_size = 10
cancel_check_interval_ms = 100

[execution]
maker_timeout_ms = 500
stale_odds_threshold_ms = 5000

[simulation]
latency_ms = 500
use_break_even_exit = true

# --- Per-sport pipelines ---

[sports.basketball]
enabled = true
kalshi_series = "KXNBAGAME"
label = "NBA"
hotkey = "1"
fair_value = "score-feed"
odds_source = "the-odds-api"

[sports.basketball.score_feed]
primary_url = "https://cdn.nba.com/static/json/liveData/scoreboard/todaysScoreboard_00.json"
fallback_url = "https://site.api.espn.com/apis/site/v2/sports/basketball/nba/scoreboard"
live_poll_s = 1
pre_game_poll_s = 60
failover_threshold = 5
request_timeout_ms = 1000

[sports.basketball.win_prob]
home_advantage = 2.5
k_start = 0.065
k_range = 0.25
ot_k_start = 0.1
ot_k_range = 1.0
regulation_secs = 2880

[sports.basketball.strategy]
taker_edge_threshold = 3
maker_edge_threshold = 1

[sports.basketball.momentum]
taker_momentum_threshold = 0
maker_momentum_threshold = 0

[sports.college-basketball]
enabled = true
kalshi_series = "KXNCAAMBGAME"
label = "NCAAM"
hotkey = "5"
fair_value = "score-feed"
odds_source = "the-odds-api"

[sports.college-basketball.score_feed]
primary_url = "https://site.api.espn.com/apis/site/v2/sports/basketball/mens-college-basketball/scoreboard?groups=50&limit=400"
live_poll_s = 1
pre_game_poll_s = 60
request_timeout_ms = 1000

[sports.college-basketball.win_prob]
home_advantage = 3.5
k_start = 0.065
k_range = 0.25
ot_k_start = 0.1
ot_k_range = 1.0
regulation_secs = 2400

[sports.college-basketball.strategy]
taker_edge_threshold = 3
maker_edge_threshold = 1

[sports.college-basketball.momentum]
taker_momentum_threshold = 0
maker_momentum_threshold = 0

[sports.college-basketball-womens]
enabled = true
kalshi_series = "KXNCAAWBGAME"
label = "NCAAW"
hotkey = "6"
fair_value = "score-feed"
odds_source = "the-odds-api"

[sports.college-basketball-womens.score_feed]
primary_url = "https://site.api.espn.com/apis/site/v2/sports/basketball/womens-college-basketball/scoreboard?groups=50&limit=400"
live_poll_s = 1
pre_game_poll_s = 60
request_timeout_ms = 1000

[sports.college-basketball-womens.win_prob]
home_advantage = 3.5
k_start = 0.065
k_range = 0.25
ot_k_start = 0.1
ot_k_range = 1.0
regulation_secs = 2400

[sports.college-basketball-womens.strategy]
taker_edge_threshold = 3
maker_edge_threshold = 1

[sports.college-basketball-womens.momentum]
taker_momentum_threshold = 0
maker_momentum_threshold = 0

[sports.american-football]
enabled = false
kalshi_series = "KXNFLGAME"
label = "NFL"
hotkey = "2"
fair_value = "odds-feed"
odds_source = "the-odds-api"

[sports.baseball]
enabled = false
kalshi_series = "KXMLBGAME"
label = "MLB"
hotkey = "3"
fair_value = "odds-feed"
odds_source = "the-odds-api"

[sports.ice-hockey]
enabled = false
kalshi_series = "KXNHLGAME"
label = "NHL"
hotkey = "4"
fair_value = "odds-feed"
odds_source = "the-odds-api"

[sports.soccer-epl]
enabled = false
kalshi_series = "KXEPLGAME"
label = "EPL"
hotkey = "7"
fair_value = "odds-feed"
odds_source = "the-odds-api"

[sports.mma]
enabled = false
kalshi_series = "KXUFCFIGHT"
label = "UFC"
hotkey = "8"
fair_value = "odds-feed"
odds_source = "the-odds-api"
